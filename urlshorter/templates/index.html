{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="{% static 'favicon.png' %}" type="image/x-icon">
    <meta charset="UTF-8">
    <title>Title</title>
   <script src={% static 'noty.js' %}></script>
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="{% static 'js/background_color.js' %}"></script>
    <link rel="stylesheet" href={% static 'noty.css' %}>
</head>
<body style="height: 90vh" class="d-flex justify-content-center align-items-center">
<style>
</style>
<form action="" method="post" class="form-group d-flex flex-column">
    <input style="width: 15vw" class="p-2 mb-3" name="user_url" placeholder="Ваша ссылка">
    <button style="width: 15vw" class="btn btn-success">Сократить</button>
    <h2 id="shorted">{{ short_url }}</h2>
    {% if 'kiin.fun' in short_url %}
    <input id="btn_copy" type="button" value="Копировать" class="btn btn-primary">
    {% endif %}
</form>
<script>

function generate(text, type, layout) {
  new Noty({
    text        : text,
    type        : type,
    dismissQueue: true,
    layout      : layout,
    timeout: 1000,
    theme       : 'sunset'

  }).show();
}
 btn_copy.onclick = () => {
            navigator.clipboard.writeText(shorted.innerHTML)
            generate('<div style="border-radius: 7px; font-size: 20px; text-align: center; padding: 5px; width: 325px; height: 40px; background: rgba(30, 200, 120, 0.3)">Скопировано</div>', 'info', 'topRight');

        }
</script>
</body>
</html>
